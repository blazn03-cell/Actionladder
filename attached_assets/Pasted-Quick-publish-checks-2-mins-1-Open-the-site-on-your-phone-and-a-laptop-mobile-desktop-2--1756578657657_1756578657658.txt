Quick publish checks (2 mins)

1. Open the site on your phone and a laptop (mobile + desktop).


2. Visit these pages/paths:



/ (home)

/terms, /privacy, /refund, /acceptable-use

/api/billing/checkout (should be POST only, not viewable)

/api/billing/webhook (should be POST only, not viewable)

/healthz (simple “ok” text is fine)


If any 404, add the pages (templates below) and a /healthz endpoint.

Stripe smoke tests (in TEST mode)

Click Small Monthly (or equivalent) → complete with test card 4242 4242 4242 4242, any future expiry, any CVC/ZIP.

After paying, confirm:

You get redirected to your success page.

Stripe Dashboard → Developers → Events shows checkout.session.completed → 200 OK to your webhook.

Your database marks the user as an active operator at the correct tier.



Repeat once for:

Add-on (Analytics)

Multi-Hall monthly

Walk-In $12 (Payment Link/QR is fine)

Tournament Entry $60

Deposit $30 (then dashboard refund it)


If webhooks aren’t firing

Dashboard → Developers → Webhooks → select your endpoint → Send test event checkout.session.completed.

If 400/401, re-copy your STRIPE_WEBHOOK_SECRET (whsec_…) into your server env and redeploy.


Add these now (copy-paste)

1) Minimal /healthz route (Node/Next.js App Router)

// app/healthz/route.ts
export function GET() {
  return new Response('ok', { status: 200 });
}

2) Public policy pages (plain HTML/MD content is fine)

/terms

Service: B2B league & tournament management software for pool halls.

Skill-based competitions only. No gambling or wagering.

Access granted upon successful payment; misuse may result in suspension.

Liability limited to fees paid in the last 3 months.


/privacy

We collect account details, payment identifiers (via Stripe), and usage logs.

Stripe processes payments; we never store full card numbers.

Contact email for privacy requests.


/refund

Subscription: cancel any time → access until the end of the current period; prorations per Stripe settings.

Event entry: refundable until bracket lock/cutoff; otherwise non-refundable except system errors.

Deposits: refundable when attendance validated or per operator decision.


/acceptable-use

No harassment, cheating, or attempts to manipulate standings/payout logic.

No gambling, odds, or wagers via the platform.


(If you want, I can drop full page text you can paste verbatim.)

Double-check secrets are server-only

In your client bundle, search for sk_ or whsec_. You should not find them.

Only pk_… appears in the frontend.


Nice-to-have (but fast)

Add a “Payments status” section on your admin dashboard that shows:

Webhook last success timestamp

Connected Price IDs (read from env or from Stripe)

Current Stripe mode: TEST or LIVE
