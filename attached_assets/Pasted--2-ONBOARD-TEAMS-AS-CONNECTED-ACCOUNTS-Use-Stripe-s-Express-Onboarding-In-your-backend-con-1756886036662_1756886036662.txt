ğŸ§‘â€ğŸ’¼ 2. ONBOARD TEAMS AS CONNECTED ACCOUNTS

Use Stripeâ€™s Express Onboarding:

In your backend:
const account = await stripe.accounts.create({
  type: 'express',
  capabilities: {
    transfers: { requested: true },
  },
});

const accountLink = await stripe.accountLinks.create({
  account: account.id,
  refresh_url: 'https://actionladder.net/retry',
  return_url: 'https://actionladder.net/connected',
  type: 'account_onboarding',
});


âœ… Send accountLink.url to the team captain
They fill in:

Bank info

Name/Team

EIN or SSN (for tax compliance)

Once they finish onboarding, theyâ€™re ready to receive payouts.

ğŸ’³ 3. CHARGE MATCH ENTRY FEE INTO YOUR PLATFORM

Just like before â€” but now you store the winnerâ€™s info (their account.id) to route funds later.

const session = await stripe.checkout.sessions.create({
  mode: 'payment',
  line_items: [...],
  metadata: {
    match_id: 'TXvsFL2025',
    team_paid: 'Texas Kings',
  },
  success_url: '...',
  cancel_url: '...',
});

ğŸ’¸ 4. PAY OUT WINNER AFTER MATCH

Once the match is done and you know the winner, send the payout:

await stripe.transfers.create({
  amount: 900000, // $9,000 to the winner (platform keeps $1,000)
  currency: 'usd',
  destination: 'acct_1ABCDE12345', // winner's Stripe account ID
  transfer_group: 'match_TXvsFL2025',
});


Optional:
You can also use application_fee_amount to take your cut automatically during checkout if you want to split right away.

ğŸ§® Optional: AUTOMATED SPLIT DURING PAYMENT

This sends part of the money during checkout, instead of holding it.

const session = await stripe.checkout.sessions.create({
  payment_method_types: ['card'],
  line_items: [...],
  mode: 'payment',
  payment_intent_data: {
    application_fee_amount: 100000, // platform keeps $1,000
    transfer_data: {
      destination: 'acct_1ABCDE12345', // teamâ€™s connected account
    },
  },
});


But for Action Ladder, itâ€™s better to wait until match result is confirmed, then trigger the payout manually.

ğŸ§  Summary Flow
Step	Who	Action
1	Team	Registers via Express Link
2	You	Take Challenge Fee ($10K)
3	You	Hold money until match ends
4	You	Send payout to winning team
5	Stripe	Handles 1099 for the team
ğŸ§¾ Things Youâ€™ll Need to Track

Team Stripe account.id (store it in DB)

Which team paid for the match

Who won (to trigger payout)

Match ID (for transfer_group reference)

ğŸ“¦ Want This in Code?

I can give you a working backend template with:

âœ… Express Team Signup (Stripe Connect Express)

âœ… Entry Fee Checkout (with metadata)

âœ… Manual Admin Dashboard Trigger (payout when confirmed)

âœ… Auto Email Receipt + "Payout Complete" alert